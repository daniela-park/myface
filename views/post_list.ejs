<html lang="en-gb">
<%- include('_head') -%>
<%- include('_header') -%>
<body>
<h1>Posts</h1>
<table>
    <tr>
        <th>ID</th>
        <th>Message</th>
        <th>Image URL</th>
        <th>Created At</th>
        <th>Posted BY</th>
        <th>Liked By</th>
        <th>Disliked By</th>        
    </tr>
    <% postList.results.forEach(function(post) {%>
        <tr>
            <td><%= post.id %></td>
            <td><%= post.message %></td>
            <td><img src=<%= post.imageUrl %> alt="This is an image"></td>
            <td><%= post.createdAt %></td>
            <td><%= post.postedBy.name %></td>
            <td><% post.likedBy.forEach(function(postUser) {%> <%= postUser.name %>,<% }); %></td>
            <td><% post.dislikedBy.forEach(function(postUser) {%> <%= postUser.name %>,<% }); %></td>
        </tr>
        <% }); %>
</table>
<%if (postList.next) { %>
    <a href="<%= postList.next %>">Next</a>
<% } %>
<%if (postList.previous) { %>
    <a href="<%= postList.previous %>">Previous</a>
<% } %>



<!--<a href="/posts/?page=2&amp;pageSize=10">Next</a>
<a href="/posts/?page=1&amp;pageSize=10">Previous</a> <!-- First page should not have Previous-->
<!--
<ol>
    <% postList.results.forEach(function(post) {%>
        <li>
            <%= post.message %> - <%= format(post.createdAt, "yyyy-MM-dd HH:mm:ss") %>
        </li>
    <% }); %>
</ol>
-->
</body>
<%- include('_footer') -%>
</html>

<!-- Write your comments here -->